<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Sudharsan S | Portfolio</title>
  <link rel="icon" type="image/png" href="logo.jpg">
  <meta name="description" content="Portfolio of Sudharsan S showcasing projects, experience, and skills.">


  <!-- Prevent Browser Cache -->
  <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
  <meta http-equiv="Pragma" content="no-cache" />
  <meta http-equiv="Expires" content="0" />

  <link rel="stylesheet" href="style.css" />

  <style>
    :root {
      --bg: #0b0f18;
      --bg2: #111827;
      --fg: #e5e7eb;
      --muted: #9ca3af;
      --accent: #60a5fa;
      --glass: rgba(255, 255, 255, 0.07);
      --glass-strong: rgba(255, 255, 255, 0.12);
      --border: rgba(255, 255, 255, 0.15);
      --shadow: 0 10px 30px rgba(0, 0, 0, 0.45);
      --header-h: 64px;
    }

    * { box-sizing: border-box; }
    html, body { height: 100%; }
    body {
      margin: 0;
      font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, Noto Sans, "Helvetica Neue", Arial, "Apple Color Emoji", "Segoe UI Emoji";
      color: var(--fg);
      background:
        radial-gradient(1200px 800px at 10% 10%, #0f172a 0%, var(--bg) 40%),
        radial-gradient(800px 600px at 90% 20%, #111827 0%, var(--bg) 50%),
        var(--bg);
      overflow-x: hidden;
    }

    /* THREE canvas sits behind everything */
    #bg {
      position: fixed;
      inset: 0;
      width: 100%;
      height: 100%;
      display: block;
      z-index: -1;
    }

    /* top nav */
    header {
      position: sticky;
      top: 0;
      z-index: 10;
      backdrop-filter: blur(10px);
      background: linear-gradient(to bottom, rgba(11, 15, 24, 0.75), rgba(11, 15, 24, 0.3));
      border-bottom: 1px solid var(--border);
    }
    .nav {
      max-width: 1200px;
      margin: 0 auto;
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 12px 20px;
      min-height: var(--header-h);
    }
    .logo { font-weight: 800; letter-spacing: 0.5px; font-size: 1.1rem; }
    .nav a {
      color: var(--fg);
      text-decoration: none;
      margin-left: 16px;
      font-weight: 600;
      opacity: 0.85;
    }
    .nav a:hover { opacity: 1; }

    /* Hover effect */
    .logo img:hover {
      filter: drop-shadow(0 0 10px #00f7ff) drop-shadow(0 0 25px #00eaff) drop-shadow(0 0 45px #00d9ff);
      transform: scale(1.08);
    }

    /* sections */
    .wrap { max-width: 1200px; margin: 0 auto; padding: 28px 20px 80px; }
    section { padding: 64px 0; scroll-margin-top: calc(var(--header-h) + 16px); }
    h1, h2, h3 { margin: 0 0 16px; }
    h1 { font-size: clamp(2rem, 4vw, 3.2rem); line-height: 1.05; }
    h2 { font-size: clamp(1.4rem, 3vw, 2rem); opacity: 0.95; }
    p { color: var(--muted); line-height: 1.7; }

    .reveal { opacity: 0; transform: translateY(12px); transition: opacity .5s ease, transform .5s ease; }
    .reveal.show { opacity: 1; transform: none; }

    .profile-container { display: flex; justify-content: center; margin-bottom: 20px; }
    .profile-pic {
      width: 250px; height: 250px; border-radius: 50%; object-fit: cover;
      border: 4px solid #00f7ff; box-shadow: 0 0 20px #00f7ff, 0 0 40px #00f7ff;
      animation: glow 2s infinite alternate;
    }
    @keyframes glow { from { box-shadow: 0 0 10px #00f7ff, 0 0 20px #00f7ff; } to { box-shadow: 0 0 20px #00f7ff, 0 0 50px #00f7ff; } }

    .hero { display: grid; grid-template-columns: 1.2fr 1fr; gap: 28px; align-items: center; }
    .tag {
      display: inline-flex; align-items: center; gap: 8px; background: var(--glass);
      border: 1px solid var(--border); padding: 8px 12px; border-radius: 999px; font-weight: 600; box-shadow: var(--shadow);
    }
    .cta { display: flex; gap: 12px; margin-top: 22px; flex-wrap: wrap; }
    .btn {
      appearance: none; border: 1px solid var(--border); color: var(--fg);
      background: var(--glass-strong);
      padding: 12px 16px; border-radius: 14px; font-weight: 700; cursor: pointer;
      transition: transform .2s ease, box-shadow .2s ease, background .2s ease; box-shadow: var(--shadow);
    }
    .btn:hover { transform: translateY(-2px); background: rgba(255, 255, 255, 0.16); }
    .btn.primary { border-color: transparent; background: linear-gradient(135deg, #60a5fa, #a78bfa); color: #0b0f18; }
    .btn.primary:hover { filter: brightness(1.05); }

    .glass { background: var(--glass); border: 1px solid var(--border); border-radius: 20px; padding: 20px; box-shadow: var(--shadow); }

    /* Projects Grid */
    .grid { display: grid; gap: 18px; grid-template-columns: repeat(12, 1fr); }
    .card {
      grid-column: span 12; background: rgba(20, 20, 30, 0.9); border: 1px solid #00f7ff; border-radius: 15px; padding: 20px;
      box-shadow: 0 0 15px rgba(0, 247, 255, 0.3); transition: 0.3s ease;
    }
    .card:hover { box-shadow: 0 0 25px #00f7ff, 0 0 50px rgba(0, 247, 255, 0.6); transform: translateY(-6px); }
    @media (min-width: 720px) { .card { grid-column: span 6; } }
    @media (min-width: 1040px) { .card { grid-column: span 4; } }

    .project {
      display: flex; flex-direction: column; gap: 12px; min-height: 220px; transform-style: preserve-3d; perspective: 800px;
      border-radius: 12px; padding: 15px; transition: 0.3s;
    }
    .project:hover { box-shadow: 0 0 20px #00f7ff, 0 0 40px rgba(0, 247, 255, 0.5); transform: translateY(-5px) scale(1.02); }
    .project h3 { font-size: 1.1rem; color: #fff; }
    .project .meta { color: #aaa; font-size: 0.95rem; }

    /* Chip Glow */
    .chip { display: inline-flex; gap: 8px; align-items: center; flex-wrap: wrap; }
    .chip span {
      background: rgba(0, 247, 255, 0.08); border: 1px solid #00f7ff; padding: 6px 10px; border-radius: 999px; font-size: 0.85rem; color: #cfe4ff;
      box-shadow: 0 0 10px rgba(0, 247, 255, 0.3); transition: 0.3s ease;
    }
    .chip span:hover { box-shadow: 0 0 20px #00f7ff, 0 0 40px rgba(0, 247, 255, 0.6); transform: scale(1.1); }

    /* About Section */
    .about { display: grid; gap: 20px; grid-template-columns: 1fr; background: #1e1f25; padding: 40px; border-radius: 20px; border: 2px solid #3b82f6; box-shadow: 0 0 20px #3b82f6; }
    @media (min-width: 900px) { .about { grid-template-columns: 1fr 1fr; } }

    .skills-grid { display: flex; flex-wrap: wrap; gap: 18px; margin-top: 14px; }

    /* Education Items */
    .edu-item { margin-bottom: 15px; padding: 15px; background: rgba(20, 20, 30, 0.9); border-radius: 12px; border: 2px solid #3b82f6; box-shadow: 0 0 12px #3b82f6; transition: transform 0.3s ease, box-shadow 0.3s ease; }
    .edu-item:hover { transform: translateY(-5px); box-shadow: 0 0 20px #3b82f6, 0 0 40px #3b82f6; }
    .edu-item h3 { margin: 0; font-size: 1.1rem; font-weight: 600; color: #fff; }
    .edu-item p { margin: 3px 0; font-size: 0.95rem; color: #ccc; }
    .edu-item span { font-size: 0.85rem; color: #aaa; }

    /* Skills Section */
    .skills { background: #1e1f25; padding: 40px; border-radius: 20px; box-shadow: 0 0 20px #3b82f6; margin: 50px auto; max-width: 900px; border: 2px solid #3b82f6; }
    .skills h2 { font-size: 2rem; font-weight: 700; color: #fff; margin-bottom: 20px; }
    .category h3 { font-size: 1.2rem; font-weight: 600; margin: 20px 0 15px; color: #ccc; }
    .skills-grid { display: flex; flex-wrap: wrap; gap: 20px; }

    /* Skill bubbles */
    .skill {
      width: 100px; height: 100px; border-radius: 50%; background: rgba(20, 20, 30, 0.95); border: 2px solid #3b82f6;
      display: flex; align-items: center; justify-content: center; font-weight: 600; color: #fff; box-shadow: 0 0 12px #3b82f6;
      transition: transform 0.3s ease, box-shadow 0.3s ease; animation: float 4s ease-in-out infinite, popIn 0.6s forwards; opacity: 0;
    }
    .skill:hover { transform: translateY(-12px) scale(1.1) rotate(5deg); box-shadow: 0 0 20px #3b82f6, 0 0 40px #3b82f6; }
    @keyframes float { 0% { transform: translateY(0px); } 50% { transform: translateY(-10px); } 100% { transform: translateY(0px); } }
    @keyframes popIn { to { opacity: 1; transform: scale(1); } }
    .skills-grid .skill:nth-child(1) { animation-delay: 0.2s; }
    .skills-grid .skill:nth-child(2) { animation-delay: 0.4s; }
    .skills-grid .skill:nth-child(3) { animation-delay: 0.6s; }
    .skills-grid .skill:nth-child(4) { animation-delay: 0.8s; }
    .skills-grid .skill:nth-child(5) { animation-delay: 1s; }
    .skills-grid .skill:nth-child(6) { animation-delay: 1.2s; }

    .experience { padding: 60px 20px; }
    .exp-card {
      display: flex; align-items: flex-start; gap: 20px; margin-top: 20px; padding: 20px; border-radius: 12px;
      background: rgba(255, 255, 255, 0.05); box-shadow: 0 0 15px #3b82f6; animation: cardGlow 2s infinite alternate; transition: transform 0.3s ease;
    }
    .exp-card:hover { transform: scale(1.02); }
    .exp-logo {
      width: 60px; height: 60px; border-radius: 50%; object-fit: cover; box-shadow: 0 0 15px #3b82f6; animation: glowPulse 2s infinite alternate;
    }
    @keyframes glowPulse { 0% { box-shadow: 0 0 10px #3b82f6; } 100% { box-shadow: 0 0 25px #3b82f6; } }
    @keyframes cardGlow { 0% { box-shadow: 0 0 10px #3b82f6; } 100% { box-shadow: 0 0 25px #3b82f6; } }

    .projects-section { text-align: center; margin: 60px auto; max-width: 1100px; }
    .projects-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 25px; margin-top: 25px; }
    .project-card {
      background: rgba(20, 20, 30, 0.9); padding: 25px; border-radius: 15px; position: relative; text-align: left;
      border: 2px solid #3b82f6; box-shadow: 0 0 12px #3b82f6; transition: 0.3s ease;
    }
    .project-card:hover { transform: translateY(-5px); box-shadow: 0 0 20px #3b82f6; }
    .project-buttons { margin: 15px 0; display: flex; flex-wrap: wrap; gap: 10px; }
    .btn.glow-btn { display: inline-block; padding: 10px 16px; background: #1f2937; color: white; border: 1px solid #3b82f6; border-radius: 10px; text-decoration: none; font-size: 14px; transition: 0.3s; }
    .btn.glow-btn:hover { background: #2563eb; box-shadow: 0 0 12px #3b82f6; }
    .tags { margin-top: 12px; }
    .tags span { display: inline-block; background: #111827; padding: 5px 10px; margin: 4px; border-radius: 10px; font-size: 12px; border: 1px solid #3b82f6; }

    footer {
      text-align: center; padding: 50px 30px; background: rgba(20, 20, 30, 0.9); color: #fff; font-size: 0.95rem;
      border-top: 2px solid #00f7ff; box-shadow: 0 0 15px rgba(0, 247, 255, 0.3); position: relative; z-index: 10;
    }
    footer:hover { box-shadow: 0 0 20px #00f7ff, 0 0 50px rgba(0, 247, 255, 0.6); }
    .social-links { margin-top: 12px; display: flex; justify-content: center; gap: 20px; }
    .footer-icon { width: 60px; height: 60px; filter: drop-shadow(0 0 5px #00f7ff); transition: 0.3s ease; }
    .footer-icon:hover { filter: drop-shadow(0 0 15px #00f7ff) brightness(1.2); transform: scale(1.15); }
    /* Fix icon distortion */

footer .social-icons {
  display: flex;
  justify-content: center;
  align-items: center;
  gap: 24px;   /* space between icons */
}

footer .social-icons img {
  max-height: 60px;  /* keep size uniform */
  width: auto;       /* auto keeps aspect ratio */
  display: block;
}


    /* Reduced-motion support */
    @media (prefers-reduced-motion: reduce) {
      * { animation: none !important; transition: none !important; }
    }
  </style>
</head>
<body>
  <noscript>This site uses JavaScript for 3D visuals and animations.</noscript>
  <canvas id="bg"></canvas>

  <header>
    <nav class="nav">
      <nav></nav><title>Sudharsan S - Portfolio</title>
      <div>
        <!-- IDs are lowercase below; hrefs match -->
        <a href="#home">Home</a>
        <a href="#about">About</a>
        <a href="#experience">Experience</a>
        <a href="#projects">Projects</a>
      </div>
    </nav>
  </header>

  <main class="wrap">
    <section id="home" class="hero">
      <div class="profile-container">
        <img src="profile.jpg" alt="Profile Picture" class="profile-pic" loading="eager" />
      </div>
      <div>
        <div class="tag">Sudharsan Portfolio</div>
        <h1 style="margin-top:12px">Hi, I'm <span style="color:#93c5fd">SUDHARSAN</span> â€”</h1>
        <p>Data Analyst & Data Engineer turning raw data into impactful insights and dashboards.</p>
        <div class="cta">
          <a class="btn primary" href="#projects">View Projects</a>
          <button class="btn" id="copyEmailBtn" title="Copy email to clipboard">Copy Email</button>
          <a href="Sudharsan_Resume.pdf" download class="btn">Download Resume</a>
        </div>
      </div>
      <div class="glass reveal" style="min-height:280px">
        <h2>Quick Facts</h2>
        <p>â€¢ 2.5+ years in Data Analytics &amp; BI <br />â€¢ Skilled in SQL, Power BI, Excel, Python <br />â€¢ Experienced with Azure Synapse &amp; Data Lake <br />â€¢ Improved efficiency &amp; engagement by 40%</p>
        <div class="chip">
          <span>#Data Visualization &amp; Reporting</span><span>#Power BI</span><span>#SQL</span><span>#Excel</span><span>#Python</span><span>#Alteryx</span>
        </div>
      </div>
    </section>

    <section id="about" class="about">
      <div class="glass reveal">
        <h2>About Me</h2>
        <p>I am a results-driven Data Analyst and Data Engineer with 2.5+ years of experience in SQL, Python, Alteryx, Power BI, and Tableau. Skilled in ETL development, data modeling, and KPI reporting, I specialize in transforming raw data into actionable insights that drive business growth. My expertise includes working with Azure Synapse and Azure Data Lake for big data processing, building interactive dashboards, and optimizing workflows that improve efficiency and reduce manual effort. Passionate about solving complex business challenges, I deliver data solutions that empower informed decision-making and measurable impact.</p>
      </div>
      <div class="glass reveal">
        <h2>Education</h2>
        <div class="edu-item">
          <h3>MCA - Master of Computer Applications</h3>
          <p>SRM University, Chennai, Tamil Nadu</p>
          <span>Jan 2023 â€“ Jan 2025</span>
        </div>
        <div class="edu-item">
          <h3>B.Sc CT - Bachelor of Science in Computer Technology</h3>
          <p>Sri Krishna Adithya College of Arts and Science, Coimbatore, Tamil Nadu</p>
          <span>Jun 2019 â€“ Jul 2022</span>
        </div>
        <div class="edu-item">
          <h3>Higher Secondary Education</h3>
          <p>RK Shree Rangammal Kalvi Nilayam</p>
          <span>2017 â€“ 2019</span>
        </div>
      </div>
    </section>

    <section id="experience" class="experience">
      <div class="glass reveal">
        <h2>Experience</h2>
        <div class="exp-card">
          <img src="company-logo.png" alt="Company Logo" class="exp-logo" loading="lazy" />
          <div>
            <h3>Data Analyst @ Course5 Intelligence</h3>
            <p><strong>Jul 2022 â€“ Jan 2025</strong> | Bangalore, India</p>
            <ul>
              <li>Performed advanced data extraction &amp; transformation using Alteryx, T-SQL, and Excel, improving accuracy by 25%.</li>
              <li>Built Power BI dashboards integrating CRM, Azure Data Lake, and Synapse, boosting efficiency by 40%.</li>
              <li>Optimized SQL queries on large CSV/JSON datasets in Synapse &amp; Data Lake, reducing query time by 40%.</li>
              <li>Designed occasion-based analytics for PepsiCo, uncovering cross-sell opportunities and increasing engagement by 15%.</li>
              <li>Implemented Power BI Service features (RLS, scheduled refreshes, stakeholder views) to deliver secure, actionable insights.</li>
            </ul>
          </div>
        </div>
      </div>
    </section>

    <!-- ðŸŒŸ Skills Section -->
    <section class="skills" id="skills">
      <h2>Skills</h2>
      <div class="category">
        <h3>Data Analysis &amp; Visualization</h3>
        <div class="skills-grid">
          <div class="skill">Python</div>
          <div class="skill">Excel</div>
          <div class="skill">Power BI</div>
          <div class="skill">Tableau</div>
          <div class="skill">Alteryx</div>
        </div>
      </div>
      <div class="category">
        <h3>Cloud Platforms</h3>
        <div class="skills-grid">
          <div class="skill">Azure</div>
        </div>
      </div>
    </section>

    <section id="projects" class="projects-section">
      <h2>Featured Projects</h2>
      <div class="projects-grid">
        <!-- Power BI Projects -->
        <div class="project-card glow tilt">
          <h3>Power BI Projects</h3>
          <p>Interactive dashboards &amp; analytics.</p>
          <div class="project-buttons">
            <a href="https://github.com/sudharsan-prog/Powerbi_Sales_Dashboard" target="_blank" rel="noopener noreferrer" class="btn glow-btn">Shopify Sales Dashboard</a>
            <a href="https://github.com/sudharsan-prog/Hr-Analysis-Dashboard" target="_blank" rel="noopener noreferrer" class="btn glow-btn">HR Analysis Report</a>
          </div>
          <div class="tags"><span>Power BI</span><span>Data Viz</span><span>Business Insights</span></div>
        </div>
        <!-- Tableau Projects -->
        <div class="project-card glow tilt">
          <h3>Tableau Projects</h3>
          <p>Coming soon...</p>
          <div class="tags"><span>Tableau</span><span>KPIs</span></div>
        </div>
        <!-- Looker Projects -->
        <div class="project-card glow tilt">
          <h3>Looker Projects</h3>
          <p>Coming soon...</p>
          <div class="tags"><span>Looker</span><span>Analytics</span></div>
        </div>
      </div>
    </section>

    <footer>
      Â© <span id="year"></span> SUDHARSAN S
      <div class="social-links">
        <a href="https://github.com/sudharsan-prog" target="_blank" rel="noopener noreferrer" title="GitHub">
          <img src="github-logo.png" alt="GitHub" class="footer-icon" loading="lazy" />
        </a>
        <a href="https://www.linkedin.com/in/sudharsan-s-427abb21b/" target="_blank" rel="noopener noreferrer" title="LinkedIn">
          <img src="linkedin-logo.png" alt="LinkedIn" class="footer-icon" loading="lazy" />
        </a>
      </div>
    </footer>
  </main>

  <!-- Three.js & helpers -->
  <script src="https://unpkg.com/three@0.161.0/build/three.min.js"></script>
  <script src="https://unpkg.com/vanilla-tilt@1.8.1/dist/vanilla-tilt.min.js"></script>

  <script>
    // ===== Utility =====
    const $ = (sel, root = document) => root.querySelector(sel);
    const $$ = (sel, root = document) => [...root.querySelectorAll(sel)];

    // ===== Copy email button =====
    const EMAIL = 'sudar9600@gmail.com';
    document.addEventListener('click', (e) => {
      if (e.target && e.target.id === 'copyEmailBtn') {
        navigator.clipboard.writeText(EMAIL).then(() => {
          e.target.textContent = 'Copied!';
          setTimeout(() => (e.target.textContent = 'Copy Email'), 1500);
        });
      }
    });

    // ===== Smooth scroll for internal links =====
    $$('.nav a').forEach((a) => {
      a.addEventListener('click', (e) => {
        const href = a.getAttribute('href');
        if (href && href.startsWith('#')) {
          e.preventDefault();
          document.querySelector(href).scrollIntoView({ behavior: 'smooth', block: 'start' });
        }
      });
    });

    // ===== Reveal on scroll =====
    const observer = new IntersectionObserver(
      (entries) => {
        entries.forEach((entry) => {
          if (entry.isIntersecting) entry.target.classList.add('show');
        });
      },
      { threshold: 0.12 }
    );
    $$('.reveal').forEach((el) => observer.observe(el));

    // ===== 3D Background with Three.js (tuned) =====
    let scene, camera, renderer, starField, coreMesh, frame = 0;
    const canvas = document.getElementById('bg');

    const prefersReduced = window.matchMedia('(prefers-reduced-motion: reduce)').matches;

    function init3D() {
      try {
        scene = new THREE.Scene();

        const fov = 60;
        const aspect = window.innerWidth / window.innerHeight;
        camera = new THREE.PerspectiveCamera(fov, aspect, 0.1, 2000);
        camera.position.set(0, 0, 8);

        renderer = new THREE.WebGLRenderer({ canvas, antialias: true, alpha: true });
        renderer.setPixelRatio(Math.min(window.devicePixelRatio || 1, 2));
        renderer.setSize(window.innerWidth, window.innerHeight);

        // Lights
        const amb = new THREE.AmbientLight(0xffffff, 0.6);
        const key = new THREE.PointLight(0x88aaff, 8, 40); key.position.set(5, 5, 8);
        const rim = new THREE.PointLight(0xff88aa, 6, 40); rim.position.set(-6, -2, -2);
        scene.add(amb, key, rim);

        // Time-of-day tint
        const hour = new Date().getHours();
        const tint = hour < 6 || hour >= 18 ? 0x8ab4ff : 0x7ee0ff; // night vs day tint

        // Core object â€” low-poly icosahedron
        const geo = new THREE.IcosahedronGeometry(2.2, 1);
        const mat = new THREE.MeshStandardMaterial({
          color: tint,
          roughness: 0.25,
          metalness: 0.65,
          emissive: 0x0a1020,
          envMapIntensity: 1.0,
        });
        coreMesh = new THREE.Mesh(geo, mat);
        scene.add(coreMesh);

        // Wireframe overlay
        const wire = new THREE.WireframeGeometry(geo);
        const line = new THREE.LineSegments(
          wire,
          new THREE.LineBasicMaterial({ color: 0x335bff, opacity: 0.25, transparent: true })
        );
        coreMesh.add(line);

        // Starfield (density scales to DPR and screen)
        const starCount = Math.floor(1200 * (window.devicePixelRatio || 1) * (window.innerWidth / 1440 + 0.4));
        const pos = new Float32Array(starCount * 3);
        for (let i = 0; i < starCount; i++) {
          const r = THREE.MathUtils.randFloat(30, 120);
          const theta = Math.random() * Math.PI * 2;
          const phi = Math.acos(THREE.MathUtils.randFloatSpread(2));
          const x = r * Math.sin(phi) * Math.cos(theta);
          const y = r * Math.sin(phi) * Math.sin(theta);
          const z = r * Math.cos(phi);
          pos.set([x, y, z], i * 3);
        }
        const starGeo = new THREE.BufferGeometry();
        starGeo.setAttribute('position', new THREE.BufferAttribute(pos, 3));
        const starMat = new THREE.PointsMaterial({ size: 0.6, sizeAttenuation: true, transparent: true, opacity: 0.85 });
        starField = new THREE.Points(starGeo, starMat);
        scene.add(starField);

        // Resize & mouse
        window.addEventListener('resize', onResize);
        window.addEventListener('mousemove', onMouseMove);

        // Pause render when tab hidden
        document.addEventListener('visibilitychange', () => {
          if (!document.hidden && animStopped) {
            animStopped = false;
            animate();
          }
        });

        animate();
      } catch (err) {
        console.warn('WebGL init failed, falling back', err);
        canvas.style.display = 'none';
      }
    }

    function onResize() {
      camera.aspect = window.innerWidth / window.innerHeight;
      camera.updateProjectionMatrix();
      renderer.setSize(window.innerWidth, window.innerHeight);
    }

    // Parallax with mouse (softened on mobile)
    const mouse = { x: 0, y: 0 };
    const isTouch = 'ontouchstart' in window || navigator.maxTouchPoints > 0;
    function onMouseMove(e) {
      if (isTouch) return;
      const x = (e.clientX / window.innerWidth) * 2 - 1;
      const y = (e.clientY / window.innerHeight) * 2 - 1;
      mouse.x = x; mouse.y = y;
    }

    let animStopped = false;
    function animate() {
      if (document.hidden) { animStopped = true; return; }
      if (!renderer) return;

      requestAnimationFrame(animate);

      if (!prefersReduced) {
        frame++;
        const t = frame * 0.005;

        // gentle rotation + breathing scale
        coreMesh.rotation.x += 0.003;
        coreMesh.rotation.y += 0.004;
        const s = 1 + Math.sin(t) * 0.03;
        coreMesh.scale.setScalar(s);

        // subtle star drift
        starField.rotation.y -= 0.0006;

        // camera parallax
        camera.position.x += (mouse.x * 0.8 - camera.position.x) * 0.05;
        camera.position.y += (-mouse.y * 0.6 - camera.position.y) * 0.05;
        camera.lookAt(0, 0, 0);
      }

      renderer.render(scene, camera);
    }

    init3D();

    // ===== VanillaTilt for project cards =====
    VanillaTilt.init($$('.tilt'), { max: 10, speed: 400, glare: true, 'max-glare': 0.2, scale: 1.02, perspective: 900 });

    // ===== Footer year =====
    document.getElementById('year').textContent = new Date().getFullYear();
  </script>
</body>
</html>
